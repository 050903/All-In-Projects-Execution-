<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Evolution of Cryptography: A Classical Cipher Journey</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Visualization & Content Choices:
        - Shift Key Space: Inform -> Big Number (HTML/CSS) -> Justification: Impactful stat.
        - Shift Alphabet Viz: Inform -> HTML/CSS Diagram -> Justification: Clear visual of shift.
        - Mono Key Space: Inform -> Big Number (HTML/CSS) -> Justification: Impactful stat.
        - Mono Key Mapping Viz: Inform -> HTML/CSS Diagram -> Justification: Shows jumbled key.
        - Frequency Analysis: Compare -> Bar Chart (Chart.js Canvas) -> Justification: Shows pattern persistence.
        - Classical vs Modern: Organize/Compare -> HTML Table -> Justification: Structured comparison.
        - Educational Value: Inform -> HTML List -> Justification: Clear points.
        - S-Box Concept: Inform -> HTML/CSS Diagram -> Justification: Conceptual link.
        - LLM-powered explanations for Shift and Monoalphabetic Ciphers: Inform -> Text generated by Gemini API -> Justification: Provides dynamic, on-demand learning content.
        CONFIRMING NO SVG/Mermaid. -->
    <style>
        body { font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
        .section-title { color: #0F766E; } /* Tailwind teal-700 */
        .stat-number { color: #F97316; } /* Tailwind orange-500 */
        .key-char-container { display: flex; flex-wrap: wrap; gap: 4px; font-family: monospace; }
        .key-char { display: inline-flex; align-items: center; justify-content: center; width: 2em; height: 2em; border: 1px solid #D1D5DB; border-radius: 0.25rem; background-color: #F3F4F6; }
        .key-char-arrow { display: inline-flex; align-items: center; justify-content: center; width: 1.5em; height: 2em; }
        .chart-container { position: relative; width: 100%; max-width: 600px; margin-left: auto; margin-right: auto; height: 300px; max-height: 400px; }
        @media (min-width: 768px) { .chart-container { height: 350px; } }
        .table-container { max-width: 100%; overflow-x: auto; }
        th, td { border: 1px solid #E5E7EB; padding: 8px; text-align: left; }
        th { background-color: #F3F4F6; }
        .sticky-nav { position: sticky; top: 0; z-index: 50; background-color: rgba(255,255,255,0.9); backdrop-filter: blur(8px); box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    </style>
</head>
<body class="bg-gray-50 text-gray-900">

    <nav class="sticky-nav p-4">
        <ul class="container mx-auto flex justify-center space-x-4 md:space-x-8">
            <li><a href="#intro" class="text-teal-600 hover:text-orange-500 font-medium">Intro</a></li>
            <li><a href="#shift-cipher" class="text-teal-600 hover:text-orange-500 font-medium">Shift Cipher</a></li>
            <li><a href="#mono-cipher" class="text-teal-600 hover:text-orange-500 font-medium">Monoalphabetic</a></li>
            <li><a href="#cryptanalysis" class="text-teal-600 hover:text-orange-500 font-medium">Cryptanalysis</a></li>
            <li><a href="#classical-vs-modern" class="text-teal-600 hover:text-orange-500 font-medium">Classical vs Modern</a></li>
            <li><a href="#education" class="text-teal-600 hover:text-orange-500 font-medium">Education</a></li>
        </ul>
    </nav>

    <div class="container mx-auto p-6 md:p-12">

        <section id="intro" class="text-center mb-16 pt-12">
            <h1 class="text-4xl md:text-5xl font-bold mb-4 section-title">Unlocking the Secrets</h1>
            <p class="text-xl text-gray-700 mb-8 max-w-3xl mx-auto">A Journey Through Classical Ciphers & Their Enduring Lessons in the Evolution of Cryptography.</p>
            <p class="text-gray-600 max-w-2xl mx-auto">From ancient military messages to the foundations of modern digital security, understanding classical ciphers reveals the timeless principles of information protection and the constant dance between code-makers and code-breakers.</p>
        </section>

        <section id="shift-cipher" class="mb-16 pt-12">
            <div class="bg-white rounded-lg shadow-xl p-6 md:p-8">
                <h2 class="text-3xl font-bold section-title mb-6 text-center">The Dawn of Secrecy: Shift Cipher (Caesar)</h2>
                <div class="grid md:grid-cols-2 gap-8 items-center">
                    <div>
                        <h3 class="text-2xl font-semibold text-gray-800 mb-3">Simple Yet Foundational</h3>
                        <p class="text-gray-600 mb-4">The Shift Cipher, famously used by Julius Caesar, replaces each letter by shifting it a fixed number of positions down the alphabet. Its simplicity made it effective when literacy was low and cryptographic knowledge rare.</p>
                        <p class="text-gray-600 mb-1">Mathematical Principle: <code class="bg-gray-200 p-1 rounded text-sm">$C = (P + k) \pmod{26}$</code></p>
                        <p class="text-gray-600 mb-4">Where P is the plaintext letter, k is the key (shift), and C is the ciphertext letter.</p>
                        <div class="mt-6">
                            <p class="text-lg font-semibold text-gray-700 mb-2">Example: Shift by 3 (A → D)</p>
                            <div class="key-char-container">
                                <span class="key-char">A</span><span class="key-char-arrow">→</span><span class="key-char bg-teal-100 text-teal-700">D</span>
                                <span class="key-char">B</span><span class="key-char-arrow">→</span><span class="key-char bg-teal-100 text-teal-700">E</span>
                                <span class="key-char">C</span><span class="key-char-arrow">→</span><span class="key-char bg-teal-100 text-teal-700">F</span>
                                <span class="key-char">...</span>
                                <span class="key-char">X</span><span class="key-char-arrow">→</span><span class="key-char bg-teal-100 text-teal-700">A</span>
                                <span class="key-char">Y</span><span class="key-char-arrow">→</span><span class="key-char bg-teal-100 text-teal-700">B</span>
                                <span class="key-char">Z</span><span class="key-char-arrow">→</span><span class="key-char bg-teal-100 text-teal-700">C</span>
                            </div>
                        </div>
                    </div>
                    <div class="text-center p-6 bg-orange-50 rounded-lg">
                        <h4 class="text-xl font-semibold text-gray-700 mb-2">Key Space</h4>
                        <p class="text-6xl md:text-7xl font-bold stat-number">26</p>
                        <p class="text-gray-600 mt-2">Only 26 possible keys (shifts from 0 to 25). This tiny key space is its fatal flaw.</p>
                        <h4 class="text-xl font-semibold text-gray-700 mt-6 mb-2">Primary Vulnerability</h4>
                        <p class="text-gray-600"><span class="font-semibold text-orange-600">Brute-Force Attack:</span> Easily broken by trying all 25 possible non-identity shifts.</p>
                    </div>
                </div>
                <div class="mt-8 text-center">
                    <button id="explainShiftCipher" class="bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-4 rounded-md shadow-md transition duration-300 ease-in-out">✨ Explain this Cipher ✨</button>
                    <div id="shiftExplanation" class="mt-4 p-4 bg-gray-100 rounded-lg text-gray-700 text-left hidden"></div>
                </div>
            </div>
        </section>

        <section id="mono-cipher" class="mb-16 pt-12">
            <div class="bg-white rounded-lg shadow-xl p-6 md:p-8">
                <h2 class="text-3xl font-bold section-title mb-6 text-center">A Step Up in Complexity: Monoalphabetic Cipher</h2>
                <div class="grid md:grid-cols-2 gap-8 items-center">
                    <div class="text-center p-6 bg-teal-50 rounded-lg order-last md:order-first">
                        <h4 class="text-xl font-semibold text-gray-700 mb-2">Key Space</h4>
                        <p class="text-5xl md:text-6xl font-bold stat-number">26!</p>
                        <p class="text-gray-600 mt-2">(Factorial 26) - Approximately <span class="font-semibold">4 x 10<sup>26</sup></span> possible keys. Brute-force is infeasible without modern computers.</p>
                        <h4 class="text-xl font-semibold text-gray-700 mt-6 mb-2">Primary Vulnerability</h4>
                        <p class="text-gray-600"><span class="font-semibold text-teal-700">Frequency Analysis:</span> Preserves letter frequencies of the original language, making it crackable.</p>
                    </div>
                    <div>
                        <h3 class="text-2xl font-semibold text-gray-800 mb-3">Jumbled Alphabet Substitution</h3>
                        <p class="text-gray-600 mb-4">Each letter in the plaintext is consistently replaced by a different letter according to a fixed, jumbled substitution alphabet (the key). This offers a much larger key space than the Shift Cipher.</p>
                        <p class="text-gray-600 mb-1">Key Example: <code class="bg-gray-200 p-1 rounded text-sm break-all">DKVQFIBJWPESCXHTMYAUOLRGZN</code></p>
                        <div class="mt-6">
                            <p class="text-lg font-semibold text-gray-700 mb-2">Example Mapping:</p>
                            <div class="key-char-container">
                                <span class="key-char">A</span><span class="key-char-arrow">→</span><span class="key-char bg-orange-100 text-orange-700">D</span>
                                <span class="key-char">B</span><span class="key-char-arrow">→</span><span class="key-char bg-orange-100 text-orange-700">K</span>
                                <span class="key-char">C</span><span class="key-char-arrow">→</span><span class="key-char bg-orange-100 text-orange-700">V</span>
                                <span class="key-char">...</span>
                                <span class="key-char">Z</span><span class="key-char-arrow">→</span><span class="key-char bg-orange-100 text-orange-700">N</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mt-8 text-center">
                    <button id="explainMonoCipher" class="bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-4 rounded-md shadow-md transition duration-300 ease-in-out">✨ Explain this Cipher ✨</button>
                    <div id="monoExplanation" class="mt-4 p-4 bg-gray-100 rounded-lg text-gray-700 text-left hidden"></div>
                </div>
            </div>
        </section>

        <section id="cryptanalysis" class="mb-16 pt-12">
            <div class="bg-white rounded-lg shadow-xl p-6 md:p-8">
                <h2 class="text-3xl font-bold section-title mb-6 text-center">The Achilles' Heel: Cryptanalysis</h2>
                <p class="text-lg text-gray-700 mb-8 text-center max-w-2xl mx-auto">Despite seemingly complex keys, classical ciphers often fell to clever analysis. Understanding these vulnerabilities is key to appreciating modern cryptographic strength.</p>
                <div class="grid md:grid-cols-2 gap-8 items-start">
                    <div>
                        <h3 class="text-2xl font-semibold text-gray-800 mb-3">Frequency Analysis</h3>
                        <p class="text-gray-600 mb-4">Monoalphabetic ciphers preserve the frequency of letters from the original language. For example, 'E' is the most common letter in English. By counting letter frequencies in the ciphertext, analysts can deduce parts of the key.</p>
                        <p class="text-gray-600">The chart shows a hypothetical comparison: standard English letter frequencies versus those in a ciphertext encrypted with a monoalphabetic cipher. The pattern, though relabeled, remains similar.</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="frequencyChart"></canvas>
                    </div>
                </div>
                 <div class="mt-10 text-center">
                    <h3 class="text-2xl font-semibold text-gray-800 mb-3">Brute-Force Attacks</h3>
                    <p class="text-gray-600 max-w-xl mx-auto">For ciphers with small key spaces, like the Shift Cipher (26 keys), attackers can simply try every possible key until the original message is revealed. This is trivial for modern computers.</p>
                </div>
            </div>
        </section>

        <section id="classical-vs-modern" class="mb-16 pt-12">
            <div class="bg-white rounded-lg shadow-xl p-6 md:p-8">
                <h2 class="text-3xl font-bold section-title mb-6 text-center">The Great Divide: Classical vs. Modern Cryptography</h2>
                <p class="text-lg text-gray-700 mb-8 text-center max-w-2xl mx-auto">The evolution from classical to modern cryptography marks a shift from an art of obscurity to a science of mathematical rigor and computational security.</p>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>Classical Cryptography</th>
                                <th>Modern Cryptography</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="font-semibold">Era</td>
                                <td>Pre-WWII</td>
                                <td>Post-WWII to Present</td>
                            </tr>
                            <tr>
                                <td class="font-semibold">Methods</td>
                                <td>Manual, Substitution/Transposition</td>
                                <td>Algorithmic, Complex Mathematics, Computational</td>
                            </tr>
                            <tr>
                                <td class="font-semibold">Security Principle</td>
                                <td>Security through Obscurity (Algorithm Secret)</td>
                                <td>Kerckhoffs' Principle (Key Secret, Algorithm Public)</td>
                            </tr>
                            <tr>
                                <td class="font-semibold">Vulnerabilities</td>
                                <td>Frequency Analysis, Brute-Force (small key space)</td>
                                <td>Computational Power (e.g., Quantum), Implementation Flaws</td>
                            </tr>
                            <tr>
                                <td class="font-semibold">Primary Use</td>
                                <td>Military, Diplomacy</td>
                                <td>Ubiquitous (banking, e-commerce, IoT, communication)</td>
                            </tr>
                            <tr>
                                <td class="font-semibold">Guarantees</td>
                                <td>Confidentiality (limited)</td>
                                <td>Confidentiality, Integrity, Authenticity, Non-repudiation</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p class="text-sm text-gray-500 mt-4 text-center">This table highlights key distinctions, drawing from the analysis in the "Analysis and Implementation of Classical Substitution Ciphers in Python" report (Table 4).</p>
            </div>
        </section>

        <section id="education" class="mb-16 pt-12">
            <div class="bg-white rounded-lg shadow-xl p-6 md:p-8">
                <h2 class="text-3xl font-bold section-title mb-6 text-center">Why Classical Ciphers Still Matter</h2>
                <div class="grid md:grid-cols-2 gap-8 items-start">
                    <div>
                        <h3 class="text-2xl font-semibold text-gray-800 mb-3">Educational Value</h3>
                        <p class="text-gray-600 mb-4">Despite their obsolescence for secure communication, classical ciphers are invaluable pedagogical tools:</p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 pl-4">
                            <li>Introduce fundamental concepts: plaintext, ciphertext, key, encryption, decryption.</li>
                            <li>Illustrate basic cryptanalytic techniques like brute-force and frequency analysis.</li>
                            <li>Provide a historical context for the evolution of cryptography.</li>
                            <li>Foster problem-solving skills and analytical thinking.</li>
                        </ul>
                        <p class="text-gray-600 mt-4">They bridge the gap from simple secrecy methods to the complex algorithms that protect our digital world.</p>
                    </div>
                    <div>
                        <h3 class="text-2xl font-semibold text-gray-800 mb-3">Echoes in Modern Cryptography</h3>
                        <p class="text-gray-600 mb-4">Core ideas from classical ciphers, like substitution, are refined and incorporated into modern systems. For example, the Advanced Encryption Standard (AES) uses "S-boxes" (Substitution-boxes) which perform complex, non-linear substitutions on small blocks of data—a sophisticated evolution of the simple substitution principle.</p>
                        <div class="mt-4 p-4 border border-dashed border-teal-300 rounded-lg bg-teal-50">
                            <p class="text-center text-teal-700 font-semibold">Conceptual S-Box (Modern AES)</p>
                            <div class="flex items-center justify-around mt-2 text-sm">
                                <span class="bg-gray-200 p-2 rounded">Input Block</span>
                                <span class="text-2xl text-teal-600 font-bold">➔</span>
                                <div class="border-2 border-teal-500 p-3 rounded bg-white shadow">
                                    <span class="font-medium">S-BOX</span><br/>
                                    <span class="text-xs">(Complex Substitution)</span>
                                </div>
                                <span class="text-2xl text-teal-600 font-bold">➔</span>
                                <span class="bg-gray-200 p-2 rounded">Output Block</span>
                            </div>
                        </div>
                        <p class="text-sm text-gray-500 mt-2">This illustrates how foundational concepts evolve into robust components of modern security.</p>
                    </div>
                </div>
            </div>
        </section>

        <footer class="text-center py-12 border-t border-gray-200">
            <h3 class="text-2xl font-bold text-orange-500 mb-3">The Legacy of Ciphers</h3>
            <p class="text-gray-700 max-w-xl mx-auto mb-6">Understanding the past is crucial to securing the future. The journey from simple shifts to complex algorithms highlights the ongoing quest for information security.</p>
            <p class="text-sm text-gray-500">Infographic based on insights from "Analysis and Implementation of Classical Substitution Ciphers in Python."</p>
        </footer>

    </div>

    <script>
        function wrapText(text, maxLength) {
            if (text.length <= maxLength) {
                return text;
            }
            const words = text.split(' ');
            let lines = [];
            let currentLine = words[0];
            for (let i = 1; i < words.length; i++) {
                if ((currentLine + ' ' + words[i]).length > maxLength) {
                    lines.push(currentLine);
                    currentLine = words[i];
                } else {
                    currentLine += ' ' + words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        const freqCtx = document.getElementById('frequencyChart');
        if (freqCtx) {
            const englishFrequencies = {
                'A': 8.17, 'B': 1.49, 'C': 2.78, 'D': 4.25, 'E': 12.70, 'F': 2.23, 
                'G': 2.02, 'H': 6.09, 'I': 6.97, 'J': 0.15, 'K': 0.77, 'L': 4.03, 
                'M': 2.41, 'N': 6.75, 'O': 7.51, 'P': 1.93, 'Q': 0.10, 'R': 5.99, 
                'S': 6.33, 'T': 9.06, 'U': 2.76, 'V': 0.98, 'W': 2.36, 'X': 0.15, 
                'Y': 1.97, 'Z': 0.07
            };
            
            const alphabetLabels = Object.keys(englishFrequencies);
            const englishData = Object.values(englishFrequencies);
            
            const ciphertextData = [...englishData].sort(() => Math.random() - 0.5).map(val => Math.max(0.5, val + (Math.random() * 4 - 2)));


            new Chart(freqCtx, {
                type: 'bar',
                data: {
                    labels: alphabetLabels,
                    datasets: [
                        {
                            label: 'Standard English Freq. (%)',
                            data: englishData,
                            backgroundColor: 'rgba(20, 184, 166, 0.6)', // teal-500
                            borderColor: 'rgba(13, 148, 136, 1)', // teal-600
                            borderWidth: 1
                        },
                        {
                            label: 'Hypothetical Ciphertext Freq. (%)',
                            data: ciphertextData,
                            backgroundColor: 'rgba(249, 115, 22, 0.6)', // orange-500
                            borderColor: 'rgba(234, 88, 12, 1)', // orange-600
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: { display: true, text: 'Frequency (%)' }
                        },
                        x: {
                            title: { display: true, text: 'Letters' }
                        }
                    },
                    plugins: {
                        tooltip: {
                            callbacks: {
                                title: function(tooltipItems) {
                                    const item = tooltipItems[0];
                                    let label = item.chart.data.labels[item.dataIndex];
                                    if (Array.isArray(label)) {
                                      return label.join(' ');
                                    } else {
                                      return label;
                                    }
                                }
                            }
                        },
                        legend: {
                            position: 'top',
                        },
                        title: {
                            display: true,
                            text: 'Letter Frequency Comparison (Hypothetical)',
                            padding: { top: 10, bottom: 20 },
                            font: { size: 16 }
                        }
                    }
                }
            });
        }

        document.querySelectorAll('nav a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        // LLM Integration
        async function generateCipherExplanation(cipherType, outputElementId) {
            const outputDiv = document.getElementById(outputElementId);
            outputDiv.classList.remove('hidden');
            outputDiv.innerHTML = '<div class="text-center text-gray-500">Generating explanation...</div>';

            let prompt;
            if (cipherType === 'shift') {
                prompt = "Explain the Shift Cipher (Caesar Cipher) in simple terms for a beginner, focusing on its core idea and one interesting historical fact. Keep it concise, around 50-70 words.";
            } else if (cipherType === 'mono') {
                prompt = "Explain the Monoalphabetic Substitution Cipher in simple terms for a beginner, focusing on its core idea and why it's more complex than a Shift Cipher. Keep it concise, around 50-70 words.";
            }

            try {
                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };
                const apiKey = ""; 
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                
                const result = await response.json();
                
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    outputDiv.innerHTML = `<p>${text}</p>`;
                } else {
                    outputDiv.innerHTML = '<div class="text-red-500">Failed to generate explanation. Please try again.</div>';
                }
            } catch (error) {
                console.error("Error calling Gemini API:", error);
                outputDiv.innerHTML = '<div class="text-red-500">An error occurred while fetching the explanation.</div>';
            }
        }

        document.getElementById('explainShiftCipher').addEventListener('click', () => generateCipherExplanation('shift', 'shiftExplanation'));
        document.getElementById('explainMonoCipher').addEventListener('click', () => generateCipherExplanation('mono', 'monoExplanation'));

    </script>
</body>
</html>
